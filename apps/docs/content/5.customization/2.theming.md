# Theming

Customize the visual appearance of your Second Brain instance through colors, fonts, and dark mode.

## Color System

Second Brain uses [@nuxt/ui v4](https://ui.nuxt.com) which provides a comprehensive design system based on CSS variables. Colors adapt automatically between light and dark modes.

### Theme Color

The primary theme color is defined in `site.config.ts`:

```typescript
export const siteConfig = {
  themeColor: '#1a1a2e', // Used in browser chrome and PWA
}
```

This color appears in:
- Browser address bar (mobile)
- PWA splash screen
- App icon background

### UI Color Variables

Nuxt UI provides semantic color variables that you can reference in your CSS. These are defined in `@nuxt/ui` and automatically adapt to color mode:

| Variable | Purpose |
|----------|---------|
| `--ui-primary` | Primary accent color |
| `--ui-text` | Default text color |
| `--ui-text-highlighted` | Emphasized text (headings) |
| `--ui-text-muted` | Subdued text |
| `--ui-text-dimmed` | Very subtle text |
| `--ui-bg` | Page background |
| `--ui-bg-elevated` | Elevated surface (cards, code blocks) |
| `--ui-border` | Default border color |
| `--ui-border-accented` | Emphasized borders |

### Customizing Colors

To override the default color palette, modify `app.config.ts`:

```typescript
export default defineAppConfig({
  ui: {
    colors: {
      primary: 'indigo',    // Change primary color
      neutral: 'slate',     // Change neutral palette
    },
  },
})
```

Available color presets: `red`, `orange`, `amber`, `yellow`, `lime`, `green`, `emerald`, `teal`, `cyan`, `sky`, `blue`, `indigo`, `violet`, `purple`, `fuchsia`, `pink`, `rose`, `slate`, `gray`, `zinc`, `neutral`, `stone`.

## Dark Mode

Dark mode is enabled by default and follows system preferences. Users can toggle it with:
- Keyboard shortcut: `⌘⌥T` (Mac) or `Ctrl+Alt+T` (Windows/Linux)

### How It Works

Dark mode is managed by Nuxt UI's `useColorMode()` composable:

```typescript
const colorMode = useColorMode()

// Toggle between modes
colorMode.preference = colorMode.value === 'dark' ? 'light' : 'dark'

// Available values: 'light', 'dark', 'system'
```

### CSS Dark Mode Selectors

Use the `.dark` class selector for dark-mode-specific styles:

```css
/* Light mode */
.my-component {
  background: white;
}

/* Dark mode */
.dark .my-component {
  background: #1a1a1a;
}
```

Example from the codebase - Excalidraw diagrams invert colors in dark mode:

```css
.excalidraw-diagram {
  max-height: 70vh;
  border: 1px solid var(--ui-border);
}

.dark .excalidraw-diagram {
  filter: invert(1) hue-rotate(180deg);
}
```

## Typography

Second Brain uses the [Geist](https://vercel.com/font) font family for a clean, modern appearance.

### Font Configuration

Fonts are configured in `nuxt.config.ts`:

```typescript
fonts: {
  families: [
    { name: 'Geist', provider: 'fontsource' },
    { name: 'Geist Mono', provider: 'fontsource' },
  ],
},
```

### CSS Font Variables

Font families are defined in `app/assets/css/main.css`:

```css
:root {
  --font-sans: 'Geist', ui-sans-serif, system-ui, sans-serif;
  --font-mono: 'Geist Mono', ui-monospace, monospace;
}

body {
  font-family: var(--font-sans);
}

code, pre, kbd, samp {
  font-family: var(--font-mono);
}
```

To use a different font:

1. Add the font to `nuxt.config.ts`:
   ```typescript
   fonts: {
     families: [
       { name: 'Inter', provider: 'google' },
     ],
   },
   ```

2. Update the CSS variables in `main.css`:
   ```css
   :root {
     --font-sans: 'Inter', ui-sans-serif, system-ui, sans-serif;
   }
   ```

## Prose Styling

Content pages use Tailwind's typography plugin with customized variables. These are defined in `app/assets/css/main.css`:

```css
.prose {
  --tw-prose-body: var(--ui-text);
  --tw-prose-headings: var(--ui-text-highlighted);
  --tw-prose-links: var(--ui-primary);
  --tw-prose-bold: var(--ui-text-highlighted);
  --tw-prose-counters: var(--ui-text-muted);
  --tw-prose-bullets: var(--ui-text-dimmed);
  --tw-prose-hr: var(--ui-border);
  --tw-prose-quotes: var(--ui-text-muted);
  --tw-prose-quote-borders: var(--ui-border-accented);
  --tw-prose-code: var(--ui-text-highlighted);
  --tw-prose-pre-code: var(--ui-text);
  --tw-prose-pre-bg: var(--ui-bg-elevated);
}
```

### Custom Prose Elements

Code blocks have rounded corners and borders:

```css
.prose :where(pre) {
  background-color: var(--ui-bg-elevated);
  border: 1px solid var(--ui-border);
  border-radius: 0.5rem;
}
```

Blockquotes have a primary-colored left border:

```css
.prose :where(blockquote) {
  border-left-color: var(--ui-primary);
  background-color: var(--ui-bg-elevated);
  padding: 1rem 1.5rem;
  border-radius: 0 0.5rem 0.5rem 0;
}
```

## Graph Colors

The knowledge graph uses a custom color palette for each content type. Colors are defined in `app/utils/graphColors.ts`:

```typescript
export const typeColors = {
  book: { fill: '#fcd34d', glow: 'rgba(252, 211, 77, 0.4)' },
  podcast: { fill: '#c4b5fd', glow: 'rgba(196, 181, 253, 0.4)' },
  article: { fill: '#67e8f9', glow: 'rgba(103, 232, 249, 0.4)' },
  note: { fill: '#6ee7b7', glow: 'rgba(110, 231, 183, 0.4)' },
  youtube: { fill: '#fca5a5', glow: 'rgba(252, 165, 165, 0.4)' },
  // ... more types
}
```

Each type has two colors:
- **fill**: The node's fill color
- **glow**: A semi-transparent version used for the glow effect

To customize graph colors, modify the `typeColors` object with your preferred palette.

## Wiki-Link Styling

Wiki-links have distinctive styling defined in `main.css`:

```css
.wiki-link {
  text-decoration: underline;
  text-decoration-style: dotted;
  text-underline-offset: 2px;
}

.wiki-link:hover {
  text-decoration-style: solid;
}

/* Broken links (target doesn't exist) */
.wiki-link.broken {
  color: var(--ui-text-muted);
  text-decoration: line-through;
}
```

## Component Customization

Nuxt UI components can be styled via `app.config.ts`. Example:

```typescript
export default defineAppConfig({
  ui: {
    // Customize the table of contents indicator
    contentToc: {
      slots: {
        indicator: 'absolute ms-2.5 transition-[translate,height] duration-200 h-5 w-px rounded-full',
      },
    },
    // Customize button variants
    button: {
      variants: {
        size: {
          xl: 'text-lg px-6 py-3',
        },
      },
    },
  },
})
```

See the [Nuxt UI documentation](https://ui.nuxt.com/getting-started/theme) for the complete theming API.

## Quick Reference

| What to customize | Where to change it |
|-------------------|-------------------|
| Theme color (PWA/browser) | `site.config.ts` → `themeColor` |
| Primary/neutral colors | `app.config.ts` → `ui.colors` |
| Fonts | `nuxt.config.ts` → `fonts` |
| CSS variables | `app/assets/css/main.css` |
| Graph node colors | `app/utils/graphColors.ts` |
| Component slots/variants | `app.config.ts` → `ui.[component]` |
